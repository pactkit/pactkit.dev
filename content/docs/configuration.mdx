---
title: Configuration
description: Deployed files and customization
---

<Callout type="info">
This page covers the **pip install** deployment. If you installed via the [Claude Code Plugin](/docs/installation#option-a-claude-code-plugin-recommended), all components are deployed automatically and `pactkit.yaml` is not used.
</Callout>

## Deployed Files

`pactkit init` deploys the following to `~/.claude/`:

| Path | Contents |
|------|----------|
| `CLAUDE.md` | Constitution root (references 6 rule modules) |
| `rules/01-core-protocol.md` | Core behavioral rules |
| `rules/02-hierarchy-of-truth.md` | Spec > Tests > Code |
| `rules/03-file-atlas.md` | File location reference |
| `rules/04-routing-table.md` | Command routing table |
| `rules/05-workflow-conventions.md` | Git/PR conventions |
| `rules/06-mcp-integration.md` | MCP server integration |
| `agents/*.md` | 9 agent definitions |
| `commands/*.md` | 8 command playbooks |
| `skills/*/` | 9 skills (3 scripted + 6 prompt-only) |

## Constitution Rules

The 6 rule modules form the "constitution" that governs agent behavior:

| Module | Purpose |
|--------|---------|
| **Core Protocol** | Think-hard mode, atomic tools preference, Visual First, strict TDD, output conventions |
| **Hierarchy of Truth** | Spec > Tests > Code precedence, conflict resolution rules |
| **File Atlas** | Standard file locations and their purposes |
| **Routing Table** | Maps commands to agents and playbooks |
| **Workflow Conventions** | Conventional Commits, branch naming, PR conventions |
| **MCP Integration** | Conditional MCP server usage by PDCA phase |

## Language Profiles

PactKit auto-detects the project stack and configures the appropriate test runner and lint command:

| Stack | Test Runner | Lint Command | Package File |
|-------|------------|-------------|-------------|
| `python` | `pytest tests/` | `ruff check src/ tests/` | `pyproject.toml` |
| `node` | `npx jest` | `npx eslint .` | `package.json` |
| `go` | `go test ./...` | `golangci-lint run` | `go.mod` |
| `java` | `mvn test` | `mvn checkstyle:check` | `pom.xml` |

Valid `stack` values in `pactkit.yaml`: `python`, `node`, `go`, `java`. Detection is automatic based on manifest files found in the project.

The `lint_command` is used by both Act and Done commands to run a CI lint gate before commit, catching formatting and style errors early.

## Idempotent Updates

```bash
pactkit update
```

Safe to re-run at any time. Re-deploys all managed files while preserving your custom rules (any files without the `01-` through `06-` prefixes in the rules directory).

## Preview

Preview the deployment without modifying `~/.claude/`:

```bash
pactkit init -t /tmp/preview
ls /tmp/preview/
```
